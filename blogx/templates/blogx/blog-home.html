{% extends 'blogx/base.html' %}

{% block title %}
Blog | CyberKrypts
{% endblock %}


{% block content %}
<!-- Page Content -->
<div class="container">

  <!-- Page Heading/Breadcrumbs -->
  <h1 class="mt-4 mb-3">CyberKrypt's Blog
    <!-- <small>Art of hacking</small> -->
  </h1>

  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="{% url 'index' %}">Home</a>
    </li>
    <li class="breadcrumb-item active">Blog</li>
  </ol>

  <div class="row">

    <!-- Blog Entries Column -->
    <div class="col-md-8">
      {% for post in posts %}
      <!-- Blog Post -->
      <div class="card mb-4">
        <img class="card-img-top" src="{{ post.title_img.url }}" alt="Card image cap">
        <div class="card-body">
          <h2 class="card-title">{{ post.title }}</h2>
          <p class="card-text">{{ post.title_dics }}</p>
          <a href="{% url 'single_blog' id=post.slug %}" class="btn btn-primary">Read More &rarr;</a>
        </div>
        <div class="card-footer text-muted">
          Posted on {{ post.created_month }} {{ post.create_day }}, {{ post.created_year }} by
          <a href="#">{{ post.author.name }}</a>
        </div>
      </div>
      {% endfor %}

      <!-- Pagination -->
      <nav aria-label="Page navigation my-4" class="pagination_area">
        <ul class="pagination">
          {% if is_paginated %}

          {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page=1">First</a> </li>
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
          </li>
          {% endif %}

          {% for num in page_obj.paginator.page_range %}
          {% if page_obj.number == num %}
          <li class="page-item active"><a class="page-link" href="?page={{ num }}">{{ num }}.</a></li>
          {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}.</a></li>
          {% endif %}
          {% endfor %}

          {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
          </li>
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
          </li>
          {% endif %}
          {% endif %}
        </ul>

      </nav>

    </div>
    {% include 'blogx/sidebar.html' %}
  </div>
  <!-- /.row -->

</div>
<!-- /.container -->

{% endblock %}