{% extends 'learnit/base.html' %}
{% load static %}

{% block title %}
{% if tagx %}
Courses with tag {{ tagx }}
{% elif catx %}
Courses with category {{ catx }}
{% elif searchx %}
Results for {{ searchx }}
{% else %}
LearnIT | Courses
{% endif %}
{% endblock %}


{% block header %}
<link rel="stylesheet" href="{% static 'learncodex/index.css' %}">
{% endblock %}


{% block content %}
<div class="d-xs-flex d-sm-flex d-md-flex d-lg-none d-xl-none search-form-sm">
    <form method="GET" action="{% url 'course-search' %}" class="form-inline d-flex justify-content-center md-form form-sm primary mt-2" style="color: white;">
        <input class="form-control form-control-sm mr-3 w-75" type="text" placeholder="Search" aria-label="Search">
        <i type="submit" class="fas fa-search" style="color: white;" aria-hidden="true"></i>
        <select class="form-control" id="exampleFormControlSelect1">
            {% for category in categories %}
            <option value="{{ category.name }}">{{ category.name }}</option>
            {% endfor %}
        </select>
        
    </form>

</div>

<div class="d-none d-sm-none d-lg-flex search-form">
    <form method="GET" action="{% url 'course-search' %}" class="form-inline">
        <input type="text" name="s" class="form-control" placeholder="Enter your search term" id="search-input">
        <button type="submit" class="btn btn-success search-btn m-0">
            Search
        </button>
    </form>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-3 mt-5 d-none d-md-block">
            <h3 class="text-center">
                Catogeries
            </h3>

            <ul class="list-group">
                {% for category in categories %}
                <a href="{% url 'course-category' %}?c={{ category.name }}" class="list-group-item list-group-item-action">
                    {{ category.name }}
                </a>
                {% endfor %}
            </ul>
            <h3 class="text-center mt-2">
                Tags
            </h3>

            <ul class="list-group">

                {% for tag in tags %}
                <la href="{% url 'course-tag' %}?c={{ tag.name }}" class="list-group-item list-group-item-action">
                    {{ tag.name }}
                </li>
                {% endfor %}
            </ul>

        </div>
        <div class="col-md-9">
            <div class="container">
                <div class="m-4 index-title ">
                    <h2 class="text-center course-title">
                        {% if tagx %}
                        Courses with tag {{ tagx }}
                        {% elif catx %}
                        Courses with category {{ catx }}
                        {% elif searchx %}
                        Results for {{ searchx }}
                        {% else %}
                        Available courses
                        {% endif %}
                    </h2>
                </div>
                <ul class="list-group">
                    {% for course in courses %}
                    <li class="card m-1 p-2 hoverable">
                        <div class="row course-item">
                            <div class="col-md-3">
                                <img src="/media/{{ course.title_img }}" alt="thumbnail" class="img-thumbnail">
                            </div>
                            <div class="col-md-9">
                                <h3 class="course-title">
                                    {{ course.title }}
                                </h3>
                                <p class="course-discription">
                                    {{ course.short_disc | safe }}
                                </p>
                                <div class="container">
                                    <h4>
                                        <strong class="float-left p-3">
                                            Price: Free
                                        </strong>
                                    </h4>
                                    <a href="{% url 'course-detail' course=course.slug %}"
                                        class="btn btn-primary float-right">
                                        Enroll now
                                    </a>
                                </div>
                                <div class="crear-fix"></div>
                            </div>
                        </div>
                    </li>

                    {% endfor %}

                </ul>

                <div class="p-4 m-4 d-flex justify-content-center">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Previous</span>
                                </a>
                            </li>
                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item">
                                <a class="page-link" href="#" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}